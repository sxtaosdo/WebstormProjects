<!DOCTYPE html>
<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<html>
<head>
    <meta charset="UTF-8">
    <meta name="authoring-tool" content="Adobe_Animate_CC">
    <meta name="viewport" content="width=640,user-scalable=no">
    <title>春季问答活动</title>
    <!-- write your code here -->
    <script src="libs/createjs.js"></script>
    <script src="js/pxLoader.js"></script>
    <script src="js/assets.js"></script>
    <link rel="stylesheet" href="css/index.css">
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script src="libs/jquery.1.11.0.min.js"></script>
    <script>
        var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
        var main_load;
        var loadingClass;
        function init() {
            canvas = document.getElementById("canvas");
            anim_container = document.getElementById("animation_container");
            dom_overlay_container = document.getElementById("dom_overlay_container");
            images = images || {};
            ss = ss || {};
            var loader = new createjs.LoadQueue(false);
            loader.addEventListener("fileload", handleFileLoad);
            loader.addEventListener("complete", handlePreloadsComplete);
            loader.loadManifest(assetsPreloads);
        }
        function handleFileLoad(evt) {
            if (evt.item.type == "image") {
                images[evt.item.id] = evt.result;
            }
        }
        function handlePreloadsComplete(evt) {
            exportRoot = new lib.game0324();
            stage = new createjs.Stage(canvas);
            stage.addChild(exportRoot);

            loadingClass = new lib.loadingClass();
            stage.addChild(loadingClass);
            stage.update();

            //Registers the "tick" event listener.
            fnStartAnimation = function () {
                createjs.Ticker.setFPS(lib.properties.fps);
                createjs.Ticker.addEventListener("tick", stage);
            }
            function makeResponsive(isResp, respDim, isScale, scaleType) {
                var lastW, lastH, lastS = 1;
                window.addEventListener('resize', resizeCanvas);
                resizeCanvas();
                function resizeCanvas() {

                }
            }

            makeResponsive(false, 'both', false, 1);
            fnStartAnimation();
            createjs.MotionGuidePlugin.install();

            main_load = new PxLoader();
            main_load.addProgressListener(handleProgress);
            main_load.addCompletionListener(handleComplete);
            main_load.addImgArray(assetsManifest);
            main_load.start();
        }
        function handleProgress(e) {
            images[e.resource.id] = e.resource.img;
        }
        function handleComplete(evt) {
            if (loadingClass && loadingClass.parent) {
                loadingClass.stop();
                loadingClass.parent.removeChild(loadingClass);
            }
            Scene.init();
        }
    </script>
    <!-- write your code here -->
</head>
<body onload="init();" style="margin:0px;">

<script src="libs/vconsole.min.js"></script>
<script src="libs/hammerjs.min.js"></script>

<script src="js/config.js"></script>
<script src="js/scene.js"></script>
<script src="js/game.js"></script>
<script src="js/utils.js"></script>
<script src="js/tools.js"></script>
<script src="js/exif.js"></script>

<script src="game.js"></script>

<section class="intro">
    <img src="img/ruleBg.jpg" alt=""/>
    <div class="userInfoWrapper abs">
        <select id="zs">

        </select>
        <select id="area">

        </select>
        <input type="text" id="userName"/>
        <input type="text" id="userPhone"/>
    </div>
    <div class="attendBtn abs">
        <img class="abs ruleBtn_cir" src="img/ruleBtn_cir.png">
        <img class="abs ruleBtn_txt" src="img/ruleBtn_txt.png">
    </div>
</section>

</div>

<input type="file" accept="image/*" id="inputBtn" hidden="hidden"/>
<script type='text/javascript'>
    document.querySelector('body').addEventListener('touchstart', touchstartEnable);

    function backed(e) {
        e.preventDefault();
    }
    function touchstartEnable() {
        event.preventDefault();
    }
</script>
<div id="animation_container" style="background-color:rgba(255, 255, 255, 1.00); width:640px; height:1045px"
     class="abs">
    <canvas id="canvas" width="640" height="1045"
            style="position: absolute; display: block; background-color:rgba(255, 255, 255, 1.00);"></canvas>
    <div id="dom_overlay_container"
         style="pointer-events:none; overflow:hidden; width:640px; height:1045px; position: absolute; left: 0px; top: 0px; display: block;">
    </div>
</div>
<script src="js/main.js"></script>
<script>
    function onChange(e) {
        var temp = document.getElementById("inputBtn").files[0];
        console.log(temp);
        var reader = new FileReader();
        reader.readAsDataURL(temp);
        reader.onload = function () {
            Scene.onHead(reader.result);
        };
    }
</script>

</body>
</html>